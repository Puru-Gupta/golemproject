devtools::load_all(".")
devtools::load_all(".")
# data_fn <- golem::get_golem_options("data")
# data <- data_fn()  # IMPORTANT: call it with () to get actual data
data = read.csv("./inst/extdata/aqi_historical.csv")
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
run_app(
data = read.csv("inst/extdata/aqi_historical.csv")
)
extdata
data = read.csv("inst/extdata/aqi_historical.csv")
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
data = read.csv("inst/extdata/aqi_historical.csv")
devtools::load_all(".")
run_app()
devtools::load_all(".")
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
data = read.csv("inst/extdata/aqi_historical.csv")
devtools::load_all(".")
run_app()
golem::add_module("create_box")
usethis::use_package("highchart")
usethis::use_package("highcharter")
library(highcharter)
data = read.csv("inst/extdata/aqi_historical.csv")
data %>% group_by(City, Year) %>% summarise(
PM2.5.avg = round(mean(PM2.5, na.rm = TRUE),digits = 0),
PM10.avg = round(mean(PM10, na.rm = TRUE),digits = 0),
NO2.avg = round(mean(NO2, na.rm = TRUE), digits = 0),
NH3.avg = round(mean(NH3, na.rm = TRUE), digits = 0),
SO2.avg = round(mean(SO2, na.rm = TRUE), digits = 0),
CO.avg = round(mean(CO, na.rm = TRUE), digits = 0),
OZONE.avg = round(mean(OZONE, na.rm = TRUE), digits = 0)
)
names(data)
df_temp <- data %>% group_by(City, Year) %>% summarise(
PM2.5.avg = round(mean(PM2.5, na.rm = TRUE),digits = 0),
PM10.avg = round(mean(PM10, na.rm = TRUE),digits = 0),
NO2.avg = round(mean(NO2, na.rm = TRUE), digits = 0),
SO2.avg = round(mean(SO2, na.rm = TRUE), digits = 0),
CO.avg = round(mean(CO, na.rm = TRUE), digits = 0),
OZONE.avg = round(mean(OZONE, na.rm = TRUE), digits = 0)
)
df_temp <- data %>% group_by(City, Year) %>% summarise(
PM2.5.avg = round(mean(PM2.5, na.rm = TRUE),digits = 0),
PM10.avg = round(mean(PM10, na.rm = TRUE),digits = 0),
NO2.avg = round(mean(NO2, na.rm = TRUE), digits = 0),
SO2.avg = round(mean(SO2, na.rm = TRUE), digits = 0),
OZONE.avg = round(mean(OZONE, na.rm = TRUE), digits = 0)
)
df_temp <- data %>% group_by(City, Year) %>% summarise(
PM2.5.avg = round(mean(PM2.5, na.rm = TRUE),digits = 0),
PM10.avg = round(mean(PM10, na.rm = TRUE),digits = 0),
NO2.avg = round(mean(NO2, na.rm = TRUE), digits = 0),
SO2.avg = round(mean(SO2, na.rm = TRUE), digits = 0),
)
df_temp <- data %>% group_by(City, Year) %>% summarise(
PM2.5.avg = round(mean(PM2.5, na.rm = TRUE),digits = 0),
PM10.avg = round(mean(PM10, na.rm = TRUE),digits = 0),
NO2.avg = round(mean(NO2, na.rm = TRUE), digits = 0),
SO2.avg = round(mean(SO2, na.rm = TRUE), digits = 0),
OZONE.avg = round(mean(Ozone, na.rm = TRUE), digits = 0)
)
df_temp
names(df_temp)
devtools::load_all(".")
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
x_col = "City",
x_col = "City"
y_cols = c("PM2.5", "PM10", "NO2", "SO2", "Ozone")
View(df_temp)
df_temp[[y_cols]]
y_cols
print(df_temp[[x_cols]])
print(df_temp[[x_col]])
df_temp[[y_cols]]
df_temp[[y_cols[1]]]
y_cols[1]
df_temp[[y_cols[1]]]
View(df_temp)
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
name(df)
df<- data
df <- reactive({
#req(data_filter())
data %>%
group_by(City) %>%
summarise(
PM2.5.avg = round(mean(PM2.5, na.rm = TRUE), digits = 0),
PM10.avg  = round(mean(PM10, na.rm = TRUE), digits = 0),
NO2.avg   = round(mean(NO2, na.rm = TRUE), digits = 0),
SO2.avg   = round(mean(SO2, na.rm = TRUE), digits = 0),
OZONE.avg = round(mean(Ozone, na.rm = TRUE), digits = 0)
)
})
hc <-  highchart() %>%
hc_xAxis(categories = df$City,
title = list(text = "Time of the Day")) %>%
hc_yAxis(title = list(text = "Value"),
allowDecimals = FALSE) %>%
hc_add_series(name = "PM2.5", data = df$PM2.5.avg) %>%
hc_add_series(name = "PM10", data = df$PM10.avg) %>%
hc_add_series(name = "NO2", data = df$NO2.avg) %>%
hc_add_series(name = "SO2", data = df$SO2.avg) %>%
hc_add_series(name = "OZONE", data = df$OZONE.avg) %>%
# for (col in y_cols) {
#   hc <- hc %>%
#     hc_add_series(
#       name = col,
#       data = df[[col]],
#       type = "line"
#     )
# }
hc %>%
hc_plotOptions(
line = list(
dataLabels = list(enabled = FALSE),
showInLegend = TRUE
)
) %>%
hc_tooltip(shared = TRUE, crosshairs = TRUE) %>%
hc_exporting(enabled = TRUE) %>%
hc_credits(
enabled = TRUE,
text = "Source: UPPCB (2021-22)",
href = "http://www.uppcb.com/",
style = list(fontSize = "9px")
) %>%
hc_legend(enabled = TRUE)
hc <-  highchart() %>%
hc_xAxis(categories = df$City,
title = list(text = "Time of the Day")) %>%
hc_yAxis(title = list(text = "Value"),
allowDecimals = FALSE) %>%
hc_add_series(name = "PM2.5", data = df$PM2.5.avg) %>%
hc_add_series(name = "PM10", data = df$PM10.avg) %>%
hc_add_series(name = "NO2", data = df$NO2.avg) %>%
hc_add_series(name = "SO2", data = df$SO2.avg) %>%
hc_add_series(name = "OZONE", data = df$OZONE.avg) %>%
# for (col in y_cols) {
#   hc <- hc %>%
#     hc_add_series(
#       name = col,
#       data = df[[col]],
#       type = "line"
#     )
# }
hc_plotOptions(
line = list(
dataLabels = list(enabled = FALSE),
showInLegend = TRUE
)
) %>%
hc_tooltip(shared = TRUE, crosshairs = TRUE) %>%
hc_exporting(enabled = TRUE) %>%
hc_credits(
enabled = TRUE,
text = "Source: UPPCB (2021-22)",
href = "http://www.uppcb.com/",
style = list(fontSize = "9px")
) %>%
hc_legend(enabled = TRUE)
df$PM2.5.avg
df
df <- data %>%
group_by(City) %>%
summarise(
PM2.5.avg = round(mean(PM2.5, na.rm = TRUE), digits = 0),
PM10.avg  = round(mean(PM10, na.rm = TRUE), digits = 0),
NO2.avg   = round(mean(NO2, na.rm = TRUE), digits = 0),
SO2.avg   = round(mean(SO2, na.rm = TRUE), digits = 0),
OZONE.avg = round(mean(Ozone, na.rm = TRUE), digits = 0)
)
hc <-  highchart() %>%
hc_xAxis(categories = df$City,
title = list(text = "Time of the Day")) %>%
hc_yAxis(title = list(text = "Value"),
allowDecimals = FALSE) %>%
hc_add_series(name = "PM2.5", data = df$PM2.5.avg) %>%
hc_add_series(name = "PM10", data = df$PM10.avg) %>%
hc_add_series(name = "NO2", data = df$NO2.avg) %>%
hc_add_series(name = "SO2", data = df$SO2.avg) %>%
hc_add_series(name = "OZONE", data = df$OZONE.avg) %>%
# for (col in y_cols) {
#   hc <- hc %>%
#     hc_add_series(
#       name = col,
#       data = df[[col]],
#       type = "line"
#     )
# }
hc_plotOptions(
line = list(
dataLabels = list(enabled = FALSE),
showInLegend = TRUE
)
) %>%
hc_tooltip(shared = TRUE, crosshairs = TRUE) %>%
hc_exporting(enabled = TRUE) %>%
hc_credits(
enabled = TRUE,
text = "Source: UPPCB (2021-22)",
href = "http://www.uppcb.com/",
style = list(fontSize = "9px")
) %>%
hc_legend(enabled = TRUE)
hc
run_app()
devtools::load_all(".")
run_app()
df$City
highchart() %>%
hc_xAxis(categories = df$City,
title = list(text = "Time of the Day")) %>%
hc_yAxis(title = list(text = "Value"),
allowDecimals = FALSE) %>%
hc_add_series(name = "PM2.5", data = df$PM2.5.avg) %>%
hc_add_series(name = "PM10", data = df$PM10.avg) %>%
hc_add_series(name = "NO2", data = df$NO2.avg) %>%
hc_add_series(name = "SO2", data = df$SO2.avg) %>%
hc_add_series(name = "CO", data = df$CO.avg) %>%
hc_add_series(name = "OZONE", data = df$OZONE.avg)
highchart() %>%
hc_xAxis(categories = df$City,
title = list(text = "Time of the Day")) %>%
hc_yAxis(title = list(text = "Value"),
allowDecimals = FALSE) %>%
hc_add_series(name = "PM2.5", data = df$PM2.5.avg) %>%
hc_add_series(name = "PM10", data = df$PM10.avg) %>%
hc_add_series(name = "NO2", data = df$NO2.avg) %>%
hc_add_series(name = "SO2", data = df$SO2.avg) %>%
hc_add_series(name = "OZONE", data = df$OZONE.avg)
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
View(df)
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::document('.')
devtools::load_all(".")
run_app()
devtools::load_all(".")
run_app()
devtools::document('.')
devtools::load_all(".")
run_app()
data
devtools::load_all(".")
run_app()
devtools::document('.')
devtools::load_all(".")
run_app()
